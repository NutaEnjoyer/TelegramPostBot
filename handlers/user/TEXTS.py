from db.models import ChannelCode
from handlers.user import utils as user_utils

from bot_data import config

from db.models import * 

postpone_rule = '''–û—Ç–ø—Ä–∞–≤—å –≤—Ä–µ–º—è, —á—Ç–æ–±—ã –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø–æ—Å—Ç —Å–µ–≥–æ–¥–Ω—è.'''

my_ord_success = '''<b>‚úÖ –û–†–î —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω!</b>'''

my_ord_unsuccess = '''<b>‚ùå –û–†–î –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω!</b>'''

choose_cat = 'üîé –ü–æ–∏—Å–∫ –∫–∞–Ω–∞–ª–æ–≤'

choose_channel = '–ù–∞–π–¥–µ–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã:'

EMPTY_LINK = '''–û—Å—Ç–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É'''

my_posts = '<b>–ú–æ–∏ –ø–æ—Å—Ç—ã</b>'
send_my_post = '''<b>–ü—Ä–∏—à–ª–∏—Ç–µ –ø–æ—Å—Ç</b>'''

async def my_advert_post(bot, placements):
	text = f'''üìÜ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã\n\n'''
	count = 0
	for i in placements:
		count+=1
		ad, wl = i
		chat = await bot.get_chat(wl.channel_id)
		t = f'''<b>{count}. {wl.human_date} | <a href='{chat.invite_link}'>{chat.title}</a> | {wl.price}‚ÇΩ</b>\n'''
		text += t
	return text

def get_link_form(channel):
	text = f'''<b>–ü—Ä–∏—à–ª–∏—Ç–µ —Å—Å—ã–ª–∫—É –¥–ª—è –∫–∞–Ω–∞–ª–∞ <a href='{channel.link}'>{channel.title}</a></b>'''
	return text


def basket_stat(subs, views, count, price):
	text = f'''<b>–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã</b>

	<b>–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:</b> {price} ‚ÇΩ

	<b>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤:</b> {views}
	<b>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤:</b> {subs}
	
	<b>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–Ω–∞–ª–æ–≤:</b> {count}'''

	return text



def setting_filters(data=None):
	text = '''–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤'''

	if data:
		if data.get('err'):
			err = f'''{(data.get('err') - 1) * 20}-{data.get('err') * 20}'''
			text += f'''\n\nERR: {err}%'''
		if data.get('views'):
			views = f'''{data.get('views')[0]}-{data.get('views')[1]}'''
			text += f'''\n\n–ü—Ä–æ—Å–º–æ—Ç—Ä—ã: {views}'''
		if data.get('sub'):
			views = f'''{data.get('sub')[0]}-{data.get('sub')[1]}'''
			text += f'''\n\n–ü–æ–¥–ø–∏—Å—á–∏–∫–∏: {views}'''
	return text

async def placements_stat_basket(week, month, future, all, bot):
	from collections import Counter
	ids = [i[1].channel_id for i in all]
	id_counts = Counter(ids)

	unique_count = len(id_counts)

	most_popular_id = id_counts.most_common(1)[0][0]
	most_popular_count = id_counts.most_common(1)[0][1]
	
	if len(all) > 0:
		chat = await bot.get_chat(most_popular_id)
		channel_text = f'''<i>–í {unique_count} —Ä–∞–∑–Ω—ã—Ö –∫–∞–Ω–∞–ª–∞—Ö</i>
		
<b>–°–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π <a href='{chat.invite_link}'>{chat.title}</a> {most_popular_count} —Ä–∞–∑</b>'''
	else:
		channel_text = ''
	text = f'''<b>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö —Ä–∞–∑–º–µ—â–µ–Ω–∏–π:

	–ó–∞ –Ω–µ–¥–µ–ª—é:
	–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {len(week)}
	–°—Ç–æ–∏–º–æ—Å—Ç—å: {sum([i[1].price for i in week])}
	
	–ó–∞ –º–µ—Å—è—Ü:
	–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {len(month)}
	–°—Ç–æ–∏–º–æ—Å—Ç—å: {sum([i[1].price for i in month])}

	–û—Ç–ª–æ–∂–µ–Ω–Ω–æ:
	–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {len(future)}
	–°—Ç–æ–∏–º–æ—Å—Ç—å: {sum([i[1].price for i in future])}
	
	–ó–∞ –≤—Å–µ –≤—Ä–µ–º—è:
	–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {len(all)}
	–°—Ç–æ–∏–º–æ—Å—Ç—å: {sum([i[1].price for i in all])}


</b>{channel_text}'''
	return text

def find_channel_form(channel):
	cat = Category.get(id=channel.category)
	text = f'''<b>–ö–∞–Ω–∞–ª <a href='{channel.link}'>{channel.title}</a></b>

<b>–°—Ç–æ–∏–º–æ—Å—Ç—å:</b> {channel.base_price} ‚ÇΩ

<b>ERR:</b> {channel.err}%

<b>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤:</b> {channel.views}
<b>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤:</b> {channel.subscribers}

<b>–¢–µ–º–∞—Ç–∏–∫–∞:</b> <code>{cat.name_ru}</code>'''

	return text

start = '''–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –±–æ—Ç –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø—É–±–ª–∏–∫–∞—Ü–∏–π –∏ —Ä–µ–∫–ª–∞–º—ã
–î–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è —Å–æ–≥–ª–∞—Å–∏—Ç–µ—Å—å —Å –æ—Ñ–µ—Ä—Ç–æ–π'''

old_start = '''–°—Ç–∞—Ä—Ç–æ–≤–æ–µ –º–µ–Ω—é'''

adv_start = '''üè† –†–µ–∫–ª–∞–º–Ω–æ–µ –º–µ–Ω—é'''

access_start_offer = '–£—Å–ø–µ—à–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ!'

ord_rules_message = '–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ—Ç–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –û–†–î'

ord_choose_type = '–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏'

bot_doesnot_work = '''–ë–æ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç'''

instruct_to_add_channel = '''–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –≤—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–π –ø–µ—Ä–≤—ã–π –∫–∞–Ω–∞–ª. –î–ª—è —ç—Ç–æ–≥–æ –Ω–∞–∑–Ω–∞—á—å—Ç–µ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –≤ –≤–∞—à–µ–º –∫–∞–Ω–∞–ª–µ –≤—ã–¥–∞–≤ —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–∞–≤–∞ (–∫–∞—Ä—Ç–∏–Ω–∫–∞)
–ó–∞—Ç–µ–º –ø–µ—Ä–µ—à–ª–∏—Ç–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –ª–µ–Ω—Ç—ã –∏ —Å–º–æ–∂–µ—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É  '''

bot_is_not_admin = '''–ë–æ—Ç –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–æ–º –∫–∞–Ω–∞–ª–∞'''

the_channel_already_added = '''–î–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω!'''

the_channel_success_added = '''–ö–∞–Ω–∞–ª —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!'''

setting_schedule = '–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è'

set_output_time = '''–£–∫–∞–∂–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
—Ä–µ–∫–ª–∞–º–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤ –≤ –¥–µ–Ω—å
(–æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ü–∏—Ñ—Ä—É 1,2,3 –∏ —Ç–¥)'''

set_output_interval = '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –≤—ã—Ö–æ–¥–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–π'

set_day_interval = '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)'

set_confirm = '''–ü—Ä–∏ –≤—ã–±–æ—Ä–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤—ã—Ö–æ–¥–∞ —Ä–µ–∫–ª–∞–º–Ω–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Ä–µ–∫–ª–∞–º–Ω—ã–µ –ø–æ—Å—Ç—ã –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –ø–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –Ω–∞—à–∏–º –∞–≥–µ–Ω—Ç—Å—Ç–≤–æ–º.
–í–ê–ñ–ù–û!!! –ú—ã –Ω–µ —Ä–µ–∫–ª–∞–º–∏—Ä—É–µ–º –∫–∞–∑–∏–Ω–æ, —Å–∫–∞–º, —Å—Ç–∞–≤–∫–∏, –∞–ª–∫–æ–≥–æ–ª—å, –Ω–∞—Ä–∫–æ—Ç–∏–∫–∏, –¥–∞—Ä–∫–Ω–µ—Ç –∏ –Ω–µ –±–µ—Ä–µ–º –∫–ª–∏–∫–±–µ–π—Ç–Ω—ã–µ –∏–ª–∏ –∂–µ—Å—Ç–æ–∫–∏–µ –ø–æ—Å—Ç—ã –¥—Ä—É–≥–∏—Ö –∫–∞–Ω–∞–ª–æ–≤. –í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–µ —Ç–µ–º–∞—Ç–∏–∫–∏ –∫–Ω–æ–ø–∫–æ–π "–≤—ã–±—Ä–∞—Ç—å –≤—Å–µ" –∏–ª–∏ —É–±—Ä–∞–≤/–ø–æ—Å—Ç–∞–≤–∏–≤ –∑–µ–ª–µ–Ω—É—é –≥–∞–ª–æ—á–∫—É –Ω–∞–∂–∞–≤ –Ω–∞ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–µ–π —Ç–µ–º–∞—Ç–∏–∫–µ –ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–∞–≤ –Ω–∞ –Ω–µ–µ.  '''

error = '–û—à–∏–±–∫–∞!'

publications_menu = '''–ü—É–±–ª–∏–∫–∞—Ü–∏–∏'''

settings_menu = '''–ù–∞—Å—Ç—Ä–æ–π–∫–∏'''

advert_menu = '''–†–µ–∫–ª–∞–º–∞ –∏ –í–ü'''

cabinet_menu = '''–ö–∞–±–∏–Ω–µ—Ç'''

cabinet_payment_data = '''–ü–ª–∞—Ç–µ–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ'''

balance_my_wallet = '''<b>–ë–∞–ª–∞–Ω—Å: {balance}</b>\n\n<i>–í—ã–≤–æ–¥ –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∑–∞–∫–∞–∑—á–∏–∫–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞, –ª–∏–±–æ —á–µ—Ä–µ–∑ 24 —á–∞—Å–∞ —Å –º–æ–º–µ–Ω—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞</i>'''

content_plan = '''–ö–æ–Ω—Ç–µ–Ω—Ç –ø–ª–∞–Ω'''

choose_channel = '''–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞–Ω–∞–ª'''

set_post_output_time = '''–í—Ä–µ–º—è –≤—ã—Ö–æ–¥–∞ {post} –ø–æ—Å—Ç–∞
–§–æ—Ä–º–∞—Ç 09:15 –∏–ª–∏ 0915'''

choose_category = '''–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏'''

phys_person = '''–§–∏–∑ –ª–∏—Ü–æ –∏–Ω—Ñ–æ'''

self_employed = '''–°–∞–º–æ–∑–∞–Ω—è—Ç—ã–π –∏–Ω—Ñ–æ'''

IPOOO = '''–ò–ü –∏–Ω—Ñ–æ'''

send_card_number = '''–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã'''

send_post = '''–¢—ã –≤—ã–±—Ä–∞–ª –∫–∞–Ω–∞–ª
<b>{title}</b>.

–û—Ç–ø—Ä–∞–≤—å –±–æ—Ç—É —Ç–æ, —á—Ç–æ —Å–æ–±–∏—Ä–∞–µ—à—å—Å—è –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å.'''

no_one_send_post = '''–ù–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏.'''

message_will_be_post = '''1 —Å–æ–æ–±—â–µ–Ω–∏–µ –±—É–¥–µ—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ –≤ <b>{title}</b>'''

message_will_be_post_question = '''–•–æ—á–µ—à—å –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø–æ—Å—Ç –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å –∏–ª–∏ –æ—Ç–ª–æ–∂–∏—Ç—å –Ω–∞ –±—É–¥—É—â–µ–µ?'''

error_post_message_to_channel = '''–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø–æ—Å—Ç –≤ –∫–∞–Ω–∞–ª–µ <b>{title}</b>'''

message_posted_success = '''–°–æ–æ–±—â–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ –≤ –∫–∞–Ω–∞–ª–µ <b>{title}</b>'''

album_edit = '''‚öôÔ∏è  –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è ‚úèÔ∏è'''

postpone_rule = '''–û—Ç–ø—Ä–∞–≤—å –≤—Ä–µ–º—è, —á—Ç–æ–±—ã –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø–æ—Å—Ç —Å–µ–≥–æ–¥–Ω—è.

–ò–ª–∏ –æ—Ç–ø—Ä–∞–≤—å —Å—Ä–∞–∑—É –≤—Ä–µ–º—è –∏ –¥–∞—Ç—É, —á—Ç–æ–±—ã –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –¥–µ–Ω—å.
–ù–∞–ø—Ä–∏–º–µ—Ä: <code>12:00</code> –∏–ª–∏ <code>1200 16.9</code>'''

delete_time_rule = '''–û—Ç–ø—Ä–∞–≤—å –≤—Ä–µ–º—è, —á—Ç–æ–±—ã —É–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç —Å–µ–≥–æ–¥–Ω—è.

–ò–ª–∏ –æ—Ç–ø—Ä–∞–≤—å —Å—Ä–∞–∑—É –≤—Ä–µ–º—è –∏ –¥–∞—Ç—É, —á—Ç–æ–±—ã –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –¥–µ–Ω—å.
–ù–∞–ø—Ä–∏–º–µ—Ä: <code>12:00</code> –∏–ª–∏ <code>1200 16.9</code>'''

error_parse_time = '''–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤—Ä–µ–º–µ–Ω–∏!'''

success_post_time = '''‚úÖ –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–π –ø–æ—Å—Ç –≤ –∫–∞–Ω–∞–ª <b>{title}</b> —Å–æ–∑–¥–∞–Ω –∏ –±—É–¥–µ—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω

{date} GMT+3 Europe/Moscow'''

swap_keyboard_rules = '''–û—Ç–ø—Ä–∞–≤—å –º–Ω–µ —Å–ø–∏—Å–æ–∫ URL-–∫–Ω–æ–ø–æ–∫ –∏/–∏–ª–∏ —Ä–µ–∫—Ü–∏–π –æ–¥–Ω–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:

–û–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞ –≤ –Ω–æ–≤–æ–º —Ä—è–¥–∫–µ:

<code>–ö–Ω–æ–ø–∫–∞ 1 - http://t.me/durov
–ö–Ω–æ–ø–∫–∞ 2 - http://vk.com/id1</code>


–ò—Å–ø–æ–ª—å–∑—É–π —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å |, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –¥–æ —Ç—Ä–µ—Ö –∫–Ω–æ–ø–æ–∫ –≤ –æ–¥–∏–Ω —Ä—è–¥.


<code>–ö–Ω–æ–ø–∫–∞ 1 - http://t.me/durov | –ö–Ω–æ–ø–∫–∞ 2 - http://t.me/telepost_blog
–ö–Ω–æ–ø–∫–∞ 3 - http://t.me/telepost_blog | –ö–Ω–æ–ø–∫–∞ 4 - http://vk.com
üëç / üëé</code>


–†–µ–∞–∫—Ü–∏–∏ –Ω–µ –º–æ–≥—É—Ç –∏–¥—Ç–∏ –≤ –æ–¥–Ω–æ–º —Ä—è–¥–∫–µ —Å —É—Ä–ª-–∫–Ω–æ–ø–∫–∞–º–∏ –∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å—Ç—Ä–æ–∫–µ'''

swap_edit_rules = '<b>–ü—Ä–∏—à–ª–∏—Ç–µ –Ω–æ–≤–æ–µ –º–µ–¥–∏–∞</b>'

error_parse_keyboard = '''–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã'''

referal_message = '''–í–∞—à–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞: https://t.me/FocachaADSbot?start={user_id}'''

channel_setting = '''–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–Ω–∞–ª–∞'''

public = 'Public'

auto_wtire_rules = '''Rules

–ù—ã–Ω–µ—à–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:
{now_value}'''

choose_time_zone = '''–í—ã–±–µ—Ä–∏—Ç–µ time zone'''

reactions_rule = '''–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ä–µ–∞–∫—Ü–∏–π:

<code>üëç / üëé</code>'''

application_manage = '''Application manage'''

open_post_text = '''<code>‚Üë –ü–æ—Å—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞–¥ —ç—Ç–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º ‚Üë</code>
–°—Ç–∞—Ç—É—Å: <b>{status}</b>
–¢–∏–ø –ø–æ—Å—Ç–∞: <b>{post_type}</b>
–ê–≤—Ç–æ—Ä: <b>{author}</b>'''

set_price_rule = '''–í–≤–µ–¥–∏—Ç–µ —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ—Å—Ç–∞'''

edit_post = '''–ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Å—Ç–∞'''

edit_media = '''–ü—Ä–∏—à–ª–∏—Ç–µ –Ω–æ–≤–æ–µ(—ã–µ) –º–µ–¥–∏–∞'''
edit_text = '''–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π —Ç–µ–∫—Å—Ç –ø–æ—Å—Ç–∞'''
edit_markup = '''–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞'''

rewrite_post_main = '''–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞ –º–µ–Ω—é'''

change_links_start = '''–ü—Ä–∏—à–ª–∏—Ç–µ —Å–≤–æ–π –∫—Ä–µ–∞—Ç–∏–≤'''

send_link = '''–ü—Ä–∏—à–ª–∏—Ç–µ —Å—Å—ã–ª–∫—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ https://t.me/_____'''

def ads_link(channel_id):
	link = ChannelCode.get_or_none(channel_id=channel_id)
	if link:
		return link.code
	code = user_utils.create_code_channel()
	link = ChannelCode.create(channel_id=channel_id, code=code)
	link.save()
	return code

def ads_link_text(channel_id):
	link = ads_link(channel_id)
	return f'<b>–°—Å—ã–ª–∫–∞ –¥–ª—è —Ä–µ–∫–ª–∞–º—ã:\n {config.BUY_BOT_URL}?start=a{link}</b>'

def register_organization(data, user_id, org_id):
	text = f'''<b>–ù–æ–≤–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è

	–ù–∞–∑–≤–∞–Ω–∏–µ: {data['name']}
	–¢–∏–ø: {data['type']}
	–ò–ù–ù: {data['inn']}
	ID –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {user_id}
	ID –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤ –û–†–î: {org_id}

	–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:
	–ù–∞–∑–≤–∞–Ω–∏–µ: {data['title']}
	URL: {data['url']}
	</b>'''

	return text 

def register_client_organization(data, user_id, org_id):
	text = f'''<b>–ù–æ–≤–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è

	–ù–∞–∑–≤–∞–Ω–∏–µ: {data['name']}
	–¢–∏–ø: {data['type']}
	–ò–ù–ù: {data['inn']}
	ID –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {user_id}
	ID –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤ –û–†–î: {org_id}
	
	</b>'''

	return text 

def new_platform(user_id, name, url):
	text = f'''<b>–ù–æ–≤–∞—è –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞

	ID –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {user_id}

	–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:
	–ù–∞–∑–≤–∞–Ω–∏–µ: {name}
	URL: {url}
	</b>'''

	return text 

def new_contract(user_id, admin_id, price, contract_id, number):
	text = f'''<b>–ù–æ–≤—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç

	ID –ö–ª–∏–µ–Ω—Ç–∞: {user_id}
	ID –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞: {admin_id}

	–°—É–º–º–∞: {price}
	–ù–æ–º–µ—Ä –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞: {number}

	ID –ö–æ–Ω—Ç—Ä–∞–∫—Ç–∞: {contract_id}
	</b>'''

	return text 

def get_full_name(short_name):
    if short_name == 'ffl':
        return '–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω–æ–µ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ –ª–∏—Ü–æ'
    elif short_name == 'ful':
        return '–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω–æ–µ —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ –ª–∏—Ü–æ'
    elif short_name == 'ip':
        return '–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å'
    elif short_name == 'fl':
        return '–§–∏–∑–∏—á–µ—Å–∫–æ–µ –ª–∏—Ü–æ'
    elif short_name == 'ul':
        return '–Æ—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ –ª–∏—Ü–æ'
    else:
        return '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ'

def my_ord_form(data):
	text = f'''<b>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–∞—à–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏–∏

	–ù–∞–∑–≤–∞–Ω–∏–µ: {data['name']}
	–¢–∏–ø: {get_full_name(data['type'])}
	–ò–ù–ù: {data['inn']}
	ID –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤ –û–†–î: {data['id']}

	</b>'''

	return text 

def stats(week, month, all):
	text = f'''<b>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö —Ä–∞–∑–º–µ—â–µ–Ω–∏–π:

	–ó–∞ –Ω–µ–¥–µ–ª—é:
	–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {len(week)}
	–°—Ç–æ–∏–º–æ—Å—Ç—å: {sum([i.price for i in week])}
	
	–ó–∞ –º–µ—Å—è—Ü:
	–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {len(month)}
	–°—Ç–æ–∏–º–æ—Å—Ç—å: {sum([i.price for i in month])}
	
	–ó–∞ –≤—Å–µ –≤—Ä–µ–º—è:
	–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {len(all)}
	–°—Ç–æ–∏–º–æ—Å—Ç—å: {sum([i.price for i in all])}

</b>'''
	
	return text

def placements_stat(week, month, future, all):
	text = f'''<b>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö —Ä–∞–∑–º–µ—â–µ–Ω–∏–π:

	–ó–∞ –Ω–µ–¥–µ–ª—é:
	–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {len(week)}
	–°—Ç–æ–∏–º–æ—Å—Ç—å: {sum([i for i in week])}
	
	–ó–∞ –º–µ—Å—è—Ü:
	–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {len(month)}
	–°—Ç–æ–∏–º–æ—Å—Ç—å: {sum([i for i in month])}

	–û—Ç–ª–æ–∂–µ–Ω–Ω–æ:
	–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {len(future)}
	–°—Ç–æ–∏–º–æ—Å—Ç—å: {sum([i for i in future])}
	
	–ó–∞ –≤—Å–µ –≤—Ä–µ–º—è:
	–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {len(all)}
	–°—Ç–æ–∏–º–æ—Å—Ç—å: {sum([i for i in all])}

</b>'''
	return text
